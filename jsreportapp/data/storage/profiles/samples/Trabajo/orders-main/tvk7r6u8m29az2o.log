{"type":"operationStart","subtype":"profile","data":{"_id":"qfsVxxEmH9pcAxjq","timestamp":"2024-01-17T17:38:44.508Z","state":"queued","mode":"standard","creationDate":"2024-01-17T17:38:44.511Z","modificationDate":"2024-01-17T17:38:44.511Z","shortid":"iyNnE04","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705513124509,"id":"chxnpie6x9anpoy","previousOperationId":null,"operationId":"utpytphnx1vl5tl"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"utpytphnx1vl5tl","timestamp":1705513124510,"id":"7joeoch3k8f5sg8"}
{"type":"operationStart","subtype":"render","name":"orders-main","previousOperationId":"utpytphnx1vl5tl","timestamp":1705513124521,"id":"k7sdnwpbsj6boxg","previousEventId":"chxnpie6x9anpoy","operationId":"7fx1u0jnmfoa9v7"}
{"type":"log","timestamp":1705513124522,"level":"info","message":"Starting rendering request 1","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"qif8a924j2t2ipv","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"log","timestamp":1705513124523,"level":"info","message":"Rendering template { name: orders-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"7a9a8kgucpqprap","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"log","timestamp":1705513124525,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"bpydx0qre9p3z2s","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"log","timestamp":1705513124527,"level":"debug","message":"Executing script orders-script (beforeRender)","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"3i00dl1b182aqum","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1705513124739,"id":"p81r1uoxfaxye0h","previousEventId":"k7sdnwpbsj6boxg","operationId":"g8x6rznzjyosodb","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"operationStart","subtype":"script","name":"scripts orders-script","previousOperationId":"g8x6rznzjyosodb","timestamp":1705513124739,"id":"m9ghwaucer3bwzm","previousEventId":"p81r1uoxfaxye0h","operationId":"cs41u1i25z1w9qf"}
{"type":"operationEnd","operationId":"cs41u1i25z1w9qf","timestamp":1705513124768,"id":"vx74lrsna46rwjf","previousEventId":"k7sdnwpbsj6boxg","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"operationEnd","operationId":"g8x6rznzjyosodb","timestamp":1705513124768,"id":"xnf5lle712sij9z","previousEventId":"vx74lrsna46rwjf","previousOperationId":"7fx1u0jnmfoa9v7"}
{"type":"log","timestamp":1705513124769,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"4hny73gpbh5qq95","previousOperationId":"g8x6rznzjyosodb"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1705513124769,"id":"jk6zohanfxlow06","previousEventId":"xnf5lle712sij9z","operationId":"5sefddzrll8qegj","previousOperationId":"g8x6rznzjyosodb"}
{"type":"log","timestamp":1705513124769,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"rles4es66rthtih","previousOperationId":"5sefddzrll8qegj"}
{"type":"log","timestamp":1705513125120,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) cannot read properties of undefined (reading 'filename')\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n\nTypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\jsreport-core\\index.js:8:95)\n    at global helpers.js:1:57\n    at global helpers.js:16:15\n    at Script.runInContext (node:vm:135:12)\n    at run (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:29)\n    at Object.evaluateShared (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\worker.js:209:17)\n    at async system-helpers.js:297:1\n    at async run (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:150:11)\n    at async executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:287:14)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) cannot read properties of undefined (reading 'filename')\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"mkpryswffnc3zaz","previousOperationId":"5sefddzrll8qegj"}
{"type":"log","timestamp":1705513125120,"level":"warn","message":"Rendering request 1 finished with error in 612 ms","meta":{"rootId":"tvk7r6u8m29az2o","id":"tvk7r6u8m29az2o"},"id":"4ib1xyjg2qjwb2g","previousOperationId":"5sefddzrll8qegj"}
{"type":"error","timestamp":1705513125127,"entity":{"shortid":"HJH11D83ce","name":"orders-main","content":"<html>\n\n<head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\">\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js'></script>\n</head>\n\n<body>\n    <div>\n        <canvas id='runnersChart'></canvas>\n    </div>\n   \n\n\n    {{#each orders}}\n        <div>\n            <p>Total Runners: {{this.runnerCount}}</p>\n        </div>\n        {{{pdfCreatePagesGroup this.country}}}\n        <canvas id='orders{{this.country}}' style=\"margin-bottom:30px\"></canvas>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>City</th>\n                    <th>Event date</th>\n                    <th>Length (km)</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>{{this.city}}</td>\n                    <td>{{this.eventDate}}</td>\n                    <td>{{this.length}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>DNI</th>\n                    <th>Name</th>\n                    <th>Phone number</th>\n                </tr>\n            </thead>\n            <tbody>\n                {{#each this.runners}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td>{{name}}</td>\n                        <td>{{phone}}</td>\n                    </tr>\n                {{/each}}\n            </tbody>\n        </table>\n\n        <div style='page-break-after: always;'></div>\n    {{/each}}\n</body>\n\n\n\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"5sefddzrll8qegj","id":"ofix9c4y0kgkmh1","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\jsreport-core\\index.js:8:95)\n    at global helpers.js:1:57\n    at global helpers.js:16:15\n    at Script.runInContext (node:vm:135:12)\n    at run (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:29)\n    at Object.evaluateShared (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-assets\\lib\\worker.js:209:17)\n    at async system-helpers.js:297:1\n    at async run (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\n    at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:150:11)\n    at async executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:287:14)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) cannot read properties of undefined (reading 'filename')\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) cannot read properties of undefined (reading 'filename')\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n\n\n(global helpers.js line 1:57)\n\n> 1 | (async () => { const jsreport = require('jsreport-core')();\n    |                                                         ^\n  2 |\n  3 | jsreport.use(require('jsreport-handlebars')({\n  4 |   helpers: {\n\n(global helpers.js line 16:15)\n\n  14 | ;\n  15 |             __topLevelFunctions = {...__topLevelFunctions, \"nowLocalStr\": nowLocalStr}\n> 16 |             })()\n     |               ^\n\n"}
