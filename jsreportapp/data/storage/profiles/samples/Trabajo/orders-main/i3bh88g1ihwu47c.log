{"type":"operationStart","subtype":"profile","data":{"_id":"i8zP3FaJrYoBFiYh","timestamp":"2024-01-17T17:08:26.521Z","state":"queued","mode":"standard","creationDate":"2024-01-17T17:08:26.523Z","modificationDate":"2024-01-17T17:08:26.523Z","shortid":"jpvEXig","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705511306522,"id":"1o9protbpagclw4","previousOperationId":null,"operationId":"j8e2kmdepkske8d"}
{"type":"log","level":"info","message":"Render request 69 queued for execution and waiting for available worker","previousOperationId":"j8e2kmdepkske8d","timestamp":1705511306522,"id":"edtpf48l81lfhwx"}
{"type":"operationStart","subtype":"render","name":"orders-main","previousOperationId":"j8e2kmdepkske8d","timestamp":1705511306528,"id":"7pissa7xtzrlam1","previousEventId":"1o9protbpagclw4","operationId":"gz3a3p6ofihnbjb"}
{"type":"log","timestamp":1705511306528,"level":"info","message":"Starting rendering request 69","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"p9bddldyvu8fqan","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"log","timestamp":1705511306528,"level":"info","message":"Rendering template { name: orders-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"ds2u6dlz100y0tf","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"log","timestamp":1705511306529,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"61m6ffjngm57t73","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"log","timestamp":1705511306530,"level":"debug","message":"Executing script orders-script (beforeRender)","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"mr0mkl31f93msea","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1705511306538,"id":"xailft5tutjpvfo","previousEventId":"7pissa7xtzrlam1","operationId":"m86b425p4yb7kzc","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"operationStart","subtype":"script","name":"scripts orders-script","previousOperationId":"m86b425p4yb7kzc","timestamp":1705511306538,"id":"ppw979ls73varjl","previousEventId":"xailft5tutjpvfo","operationId":"mc6kkm5p0nawmii"}
{"type":"operationEnd","operationId":"mc6kkm5p0nawmii","timestamp":1705511306548,"id":"w4gd7mwoek4cp6d","previousEventId":"7pissa7xtzrlam1","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"operationEnd","operationId":"m86b425p4yb7kzc","timestamp":1705511306548,"id":"5056ggedyqnc8zk","previousEventId":"w4gd7mwoek4cp6d","previousOperationId":"gz3a3p6ofihnbjb"}
{"type":"log","timestamp":1705511306548,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"8d55m3ysee1qsp9","previousOperationId":"m86b425p4yb7kzc"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1705511306548,"id":"ey4ejwlrwq7d69u","previousEventId":"5056ggedyqnc8zk","operationId":"osxnvivmdzgs7tb","previousOperationId":"m86b425p4yb7kzc"}
{"type":"log","timestamp":1705511306548,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"q0ivg8rf68odddr","previousOperationId":"osxnvivmdzgs7tb"}
{"type":"log","timestamp":1705511306558,"level":"warn","message":"Error when processing render request 69\n(because) error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n\n(sandbox.js line 13:18)\nError: Parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n    at Parser.parseError (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:267:19)\n    at Parser.parse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:336:30)\n    at parseWithoutProcessing (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:46:33)\n    at HandlebarsEnvironment.parse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:52:13)\n    at Object.precompile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\compiler.js:485:17)\n    at hb.precompile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars.js:42:40)\n    at Object.compile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:52)\n    at Object.compile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:26:43)\n    at executionFn (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:201:42)\n    at sandbox.js:13:18\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n    at module.exports (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"6e90bzje1hazpwn","previousOperationId":"osxnvivmdzgs7tb"}
{"type":"log","timestamp":1705511306558,"level":"warn","message":"Rendering request 69 finished with error in 38 ms","meta":{"rootId":"i3bh88g1ihwu47c","id":"i3bh88g1ihwu47c"},"id":"bxdblw925qa244p","previousOperationId":"osxnvivmdzgs7tb"}
{"type":"error","timestamp":1705511306560,"entity":{"shortid":"HJH11D83ce","name":"orders-main","content":"<html>\n\n<head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\">\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js'></script>\n</head>\n\n<body>\n    <div>\n        <canvas id='runnersChart'></canvas>\n    </div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n<script>\n    document.addEventListener('DOMContentLoaded', function() {\n        // Obtén los datos para la gráfica\n        const chartData = {{#toJson orders}};\n\n        // Prepara los datos para la gráfica\n        const labels = chartData.map(item => item.city);\n        const data = chartData.map(item => item.runnerCount);\n\n        // Configura la gráfica\n        const ctx = document.getElementById('runnersChart').getContext('2d');\n        const runnersChart = new Chart(ctx, {\n            type: 'bar',\n            data: {\n                labels: labels,\n                datasets: [{\n                    label: 'Runners per Race',\n                    data: data,\n                    backgroundColor: 'rgba(75, 192, 192, 0.2)',\n                    borderColor: 'rgba(75, 192, 192, 1)',\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                scales: {\n                    y: {\n                        beginAtZero: true\n                    }\n                }\n            }\n        });\n    });\n</script>\n\n    {{#each orders}}\n        <div>\n            <p>Total Runners: {{this.runnerCount}}</p>\n        </div>\n        {{{pdfCreatePagesGroup this.country}}}\n        <canvas id='orders{{this.country}}' style=\"margin-bottom:30px\"></canvas>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>City</th>\n                    <th>Event date</th>\n                    <th>Length (km)</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>{{this.city}}</td>\n                    <td>{{this.eventDate}}</td>\n                    <td>{{this.length}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>DNI</th>\n                    <th>Name</th>\n                    <th>Phone number</th>\n                </tr>\n            </thead>\n            <tbody>\n                {{#each this.runners}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td>{{name}}</td>\n                        <td>{{phone}}</td>\n                    </tr>\n                {{/each}}\n            </tbody>\n        </table>\n\n        <div style='page-break-after: always;'></div>\n    {{/each}}\n</body>\n\n\n\n</html>"},"lineNumber":96,"property":"content","statusCode":400,"weak":true,"logged":true,"previousOperationId":"osxnvivmdzgs7tb","id":"eu0m170sryybddl","stack":"Error: Parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n    at Parser.parseError (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:267:19)\n    at Parser.parse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:336:30)\n    at parseWithoutProcessing (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:46:33)\n    at HandlebarsEnvironment.parse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:52:13)\n    at Object.precompile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\compiler.js:485:17)\n    at hb.precompile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars.js:42:40)\n    at Object.compile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:52)\n    at Object.compile (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:26:43)\n    at executionFn (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:201:42)\n    at sandbox.js:13:18\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n    at module.exports (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) parse error on line 96:\n...}</body></html>\n------------------^\nExpecting 'OPEN_INVERSE_CHAIN', 'INVERSE', 'OPEN_ENDBLOCK', got 'EOF'\n\n(sandbox.js line 13:18)"}
