{"type":"operationStart","subtype":"profile","data":{"_id":"CQTnKr9fRJ2eWmOm","timestamp":"2024-01-18T18:16:34.956Z","state":"queued","mode":"standard","creationDate":"2024-01-18T18:16:34.958Z","modificationDate":"2024-01-18T18:16:34.958Z","shortid":"PCkPiLU","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705601794957,"id":"5pznysc4023xo7n","previousOperationId":null,"operationId":"cb9396l21et9pxk"}
{"type":"log","level":"info","message":"Render request 30 queued for execution and waiting for available worker","previousOperationId":"cb9396l21et9pxk","timestamp":1705601794957,"id":"x995nkbbuf4u2nj"}
{"type":"operationStart","subtype":"render","name":"orders-main","previousOperationId":"cb9396l21et9pxk","timestamp":1705601794964,"id":"36w8qg9wmdvdnpm","previousEventId":"5pznysc4023xo7n","operationId":"ytnfe4yhgmttoli"}
{"type":"log","timestamp":1705601794964,"level":"info","message":"Starting rendering request 30","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"s7yrhnfig01yvth","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"log","timestamp":1705601794964,"level":"info","message":"Rendering template { name: orders-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"va76z944he2v97q","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"log","timestamp":1705601794965,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"prujkkowhsv8cwc","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"log","timestamp":1705601794966,"level":"debug","message":"Executing script orders-script (beforeRender)","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"9i0tcldkch6ki23","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1705601794975,"id":"l1golvocax2jpgz","previousEventId":"36w8qg9wmdvdnpm","operationId":"aoxaswp12tx2dzx","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"operationStart","subtype":"script","name":"scripts orders-script","previousOperationId":"aoxaswp12tx2dzx","timestamp":1705601794976,"id":"o13oipf76v4aol4","previousEventId":"l1golvocax2jpgz","operationId":"xrgnj17zzn857be"}
{"type":"log","timestamp":1705601794984,"level":"debug","message":"(console:log) [ 'Race1', 'Race2' ]","meta":{"userLevel":true,"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"2fuhlbi6mbfu1wu","previousOperationId":"xrgnj17zzn857be"}
{"type":"log","timestamp":1705601794984,"level":"debug","message":"(console:log) [ 2, 1 ]","meta":{"userLevel":true,"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"bfy2uku2mocmfpo","previousOperationId":"xrgnj17zzn857be"}
{"type":"operationEnd","operationId":"xrgnj17zzn857be","timestamp":1705601794985,"id":"4iaae6ovwtg27hr","previousEventId":"36w8qg9wmdvdnpm","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"operationEnd","operationId":"aoxaswp12tx2dzx","timestamp":1705601794985,"id":"oi330sndljz4w7e","previousEventId":"4iaae6ovwtg27hr","previousOperationId":"ytnfe4yhgmttoli"}
{"type":"log","timestamp":1705601794985,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"z3ia0eahozrehqf","previousOperationId":"aoxaswp12tx2dzx"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1705601794985,"id":"8vhrwm92ir2rdqo","previousEventId":"oi330sndljz4w7e","operationId":"f5g6qfz43q11ak0","previousOperationId":"aoxaswp12tx2dzx"}
{"type":"log","timestamp":1705601794985,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"x3ltojfnzv62yg6","previousOperationId":"f5g6qfz43q11ak0"}
{"type":"log","timestamp":1705601794999,"level":"warn","message":"Error when processing render request 30\n(because) error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected.\nError: \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected.\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:364:54)\n    at Array.<anonymous> (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:370:15)\n    at Array.<anonymous> (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:347:27)\n    at Array.wrapper (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:18:155)\n    at prog (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:83:15\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected.\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"0ghebjd117ay5fg","previousOperationId":"f5g6qfz43q11ak0"}
{"type":"log","timestamp":1705601794999,"level":"warn","message":"Rendering request 30 finished with error in 43 ms","meta":{"rootId":"1fv6qe9pvdcenob","id":"1fv6qe9pvdcenob"},"id":"0j112cbdat7difo","previousOperationId":"f5g6qfz43q11ak0"}
{"type":"error","timestamp":1705601795005,"entity":{"shortid":"HJH11D83ce","name":"orders-main","content":"<html>\n\n<head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\">\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n</head>\n\n<body>\n\n    {{!-- <canvas id=\"myChart\" style=\"width:100%;max-width:600px\"></canvas>\n<script>\n    // Obtén los datos de raceNames y runnerCounts de la función transformData\n    \n    const raceNames = {{raceNames}};\n    const runnerCounts = {{runnerCounts}};\n\n    new Chart(\"myChart\", {\n        type: \"bar\",\n        data: {\n            labels: raceNames,\n            datasets: [{\n                data: runnerCounts\n            }]\n        },\n        options: {\n            legend: { display: false },\n            title: {\n                display: true,\n                text: \"Race Counts\"\n            }\n        }\n    });\n</script> --}}\n{{#each orders}}\n<canvas id=\"myChart\" style=\"width:100%;max-width:600px\"></canvas>\n    <script>\n        // Obtén los datos de raceNames y runnerCounts de la función transformData\n        const transformedData = {{this.info}};\n        const raceNames = transformedData.map(item => item.raceNames);\n        const runnerCounts = transformedData.map(item => item.runnerCounts);\n\n        new Chart(\"myChart\", {\n            type: \"bar\",\n            data: {\n                labels: raceNames,\n                datasets: [{\n                    data: runnerCounts,\n                    backgroundColor: 'rgba(75, 192, 192, 0.2)',\n                    borderColor: 'rgba(75, 192, 192, 1)',\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                legend: { display: false },\n                title: {\n                    display: true,\n                    text: \"Race Counts\"\n                }\n            }\n        });\n    </script>\n\n\n\n    \n        <div>\n            <p>Total Runners: {{this.runnerCount}} Pene: {{orders.cuenta}}</p>\n        </div>\n        {{{pdfCreatePagesGroup this.country}}}\n        <canvas id='orders{{this.country}}' style=\"margin-bottom:30px\"></canvas>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>City</th>\n                    <th>Event date</th>\n                    <th>Length (km)</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>{{this.city}}</td>\n                    <td>{{this.eventDate}}</td>\n                    <td>{{this.length}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>DNI</th>\n                    <th>Name</th>\n                    <th>Phone number</th>\n                </tr>\n            </thead>\n            <tbody>\n                {{#each this.runners}}\n                    <tr>\n                        <td>{{id}}</td>\n                        <td>{{name}}</td>\n                        <td>{{phone}}</td>\n                    </tr>\n                {{/each}}\n            </tbody>\n        </table>\n\n        <div style='page-break-after: always;'></div>\n    {{/each}}\n\n    \n</body>\n\n\n\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"f5g6qfz43q11ak0","id":"8gg9twdnfqy740u","stack":"Error: \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected.\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at getEnhancedHelperError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:364:54)\n    at Array.<anonymous> (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:370:15)\n    at Array.<anonymous> (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:347:27)\n    at Array.wrapper (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:18:155)\n    at prog (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:83:15\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected.\n    at module.exports (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Daniel Mesa\\Desktop\\proyecto\\mitca\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /samples/Trabajo/orders-main\n(because) \"pdfCreatePagesGroup\" helper call failed\n(because) \"pdfCreatePagesGroup\" was called with undefined parameter. One parameter was expected."}
